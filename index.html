<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIVD-Piet's Ontcijfer Uitdaging</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #000;
            color: #fff;
            padding: 20px;
            text-align: center;
        }
        .input-field {
            margin: 10px;
        }
        #result {
            font-weight: bold;
            margin-top: 20px;
            color: #ff0000;
        }
        #timer {
            font-size: 2em;
            color: #ff0000;
            font-family: 'Digital-7', sans-serif;
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0%, 50% {
                opacity: 1;
            }
            50.01%, 100% {
                opacity: 0;
            }
        }
        .warning-icon {
            font-size: 3em;
            color: #ff0000;
        }
    </style>
</head>
<body>
    <h1 class="warning-icon">⚠️</h1>
    <h1>AIVD-Piet's Ontcijfer Uitdaging</h1>
    <p>Ontcijfer de code met Vigenère, en open het slot, want voor jou ligt er iets moois klaar, vol plezier en genot!</p>

    <p><strong>Versleuteld Bericht:</strong> LEAPYNQYP</p>
    <p><strong>Keyword:</strong> WALLHACK</p>

    <div class="input-field">
        <label for="solution">Voer oplossing in:</label>
        <input type="text" id="solution" placeholder="Voer oplossing hier in">
    </div>

    <button onclick="checkSolution()">Controleer oplossing</button>
    
    <p id="result"></p>
    <p id="timer">Tijd over: 30:00</p>

    <!-- Ticking sound -->
    <audio id="ticking-sound" src="ticking.mp3" preload="auto" loop></audio>

    <script>
        // Countdown timer variables
        let timeLeft = 1800;  // Countdown starts at 30 minutes (1800 seconds)
        const timerDisplay = document.getElementById("timer");
        const tickingSound = document.getElementById("ticking-sound");

        // Start countdown timer with ticking sound
        tickingSound.play();  // Start the ticking sound immediately
        const countdown = setInterval(() => {
            if (timeLeft <= 0) {
                clearInterval(countdown);
                tickingSound.pause();
                tickingSound.currentTime = 0;
                document.getElementById("result").innerText = "De tijd is om, de bom explodeert! Maar de code krijg je alsnog, wees niet gealarmeerd. Code: 979.";
            } else {
                // Format time as MM:SS
                let minutes = Math.floor(timeLeft / 60);
                let seconds = timeLeft % 60;
                if (seconds < 10) seconds = "0" + seconds;

                timerDisplay.innerText = `Tijd over: ${minutes}:${seconds}`;
                timeLeft -= 1;
            }
        }, 1000);  // Tick every second

        // Check solution function
        function checkSolution() {
            const solution = document.getElementById("solution").value.toUpperCase();

            // Check if the entered solution is correct
            if (solution === "PEPERNOOT") {
                clearInterval(countdown);  // Stop countdown when correct
                tickingSound.pause();
                tickingSound.currentTime = 0;
                document.getElementById("result").innerText = "Goed gedaan, je bent een held! Hier is de code voor die bom die je kwelt. Code: 979.";
                timerDisplay.innerText = "";  // Clear the timer display
            } else {
                document.getElementById("result").innerText = "Onjuiste oplossing. Probeer het nog een keer!";
            }
        }
    </script>
</body>
</html>
